@model IEnumerable<HVAC.Models.PortCountryVM>
@{ 
    ViewBag.Title = "List";
    ViewBag.pTitle = "Port";
    ViewBag.pageTitle = "Setup";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var isadd = true;
    var ismodify = true;
    var isdelete = true;

    string path = Request.Url.AbsolutePath.ToLower();

    if (Convert.ToInt32(Session["UserRoleID"]) > 1)
    {
        HVAC.Models.SourceMastersModel obj = new HVAC.Models.SourceMastersModel();
        isadd = obj.GetAddpermission(Convert.ToInt32(Session["UserRoleID"]), path);
        ismodify = obj.GetModifypermission(Convert.ToInt32(Session["UserRoleID"]), path);
        isdelete = obj.GetDeletepermission(Convert.ToInt32(Session["UserRoleID"]), path);

    } }



 


 
            <div class="card">
                <div class="card-body">

<div class="row row_margin">
    <div class="col-md-12">

        <p class="indexbtnpadding float-right mb-3">
            @if (isadd)
            {
               
                <a disabled class="btn btn-primary waves-effect waves-light float-right" href="/Port/Create"><i class="mdi mdi-plus me-1"></i>New Port</a>
            }
        </p>

    </div>
</div>


    @if (TempData["SuccessMSG"] != null)
    {
        <script type="text/javascript">
            $(document).ready(function () {
                var message = "@TempData["SuccessMSG"]";
                Swal.fire("Save Status!", message, "success");               
            });
        </script>
    }
     <div class="">
       <table class="table align-middle table-nowrap" id="datatable">
                    <thead class="table-light">
                <tr>
                    <th>
                        Port Code

                    </th>
                    <th>
                        Port Name
                    </th>
                    <th>
                        Port Type
                    </th>
                    <th>
                        Port City
                    </th>
                    <th>
                        Country Name
                    </th>
                    <th></th>
                </tr>
            </thead>

          

            <tbody>
                @foreach (var item in Model)
                {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.PortCode)
                    </td>
                    <td class="tdtarget">
                        @Html.DisplayFor(modelItem => item.Port)
                    </td>
                    <td class="tdtarget">
                        @Html.DisplayFor(modelItem => item.PortTypeText)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.OriginCity)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.CountryName)
                    </td>
                    <td>
                        <div class="d-flex gap-3">
                            @*@Html.ActionLink("Edit", "Edit", new { id=item.PortID }) |*@
                            @*  @Html.ActionLink("Details", "Details", new { id=item.PortID }) |*@
                            @*@Html.ActionLink("Delete", "Delete", new { id=item.PortID })*@
                            @if (ismodify)
                            {
                                <a href="@Url.Action("Create", new { id = item.PortID })" class="text-success"><i class="mdi mdi-pencil font-size-18"></i></a>}
                            @*<a href="@Url.Action("Delete", new { id = item.PortID })"><i class="fa fa-times"></i></a>*@
                            @if (isdelete)
                            {
                                <a href="#" onclick="Delete(ID=@item.PortID)" class="text-danger"><i class="mdi mdi-delete font-size-18"></i></a>}
                        </div>
                    </td>
                </tr>
                }
            </tbody>

        </table>
</div></div></div> 

<script type="text/javascript">
    function Delete(ID) {
        if (confirm("Are you sure, You want to Delete Port?")) {
            window.location.href = "/Port/DeleteConfirmed/?id=" + ID;
        }
    }
</script>